generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Catalog {
  idCatalog     Int          @id @default(autoincrement())
  typeCatalog   String
  nameCatalog   String       @unique
  creationDate  DateTime     @default(now())
  modifyDate    DateTime     @default(now())
  statusCatalog Boolean      @default(true)
  account       Account[]
  permission    Permission[]
}

model Account {
  idAccount          Int        @id @default(autoincrement())
  userName           String     @unique
  password           String
  nameOne            String
  nameSecond         String
  lastNameOne        String
  lasNameSecond      String
  typeIdentification Int
  numIdentification  String     @unique
  birthdate          DateTime
  creationDate       DateTime   @default(now())
  modifyDate         DateTime   @default(now())
  statusAccount      Boolean    @default(true)
  email              String     @unique
  typeRole           Int
  catalog            Catalog    @relation(fields: [typeIdentification], references: [idCatalog])
  permision          Permission @relation(fields: [typeRole], references: [idPermission])
}

model Permission {
  idPermission     Int       @id @default(autoincrement())
  idRole           Int
  module           String
  typePermission   String    @unique
  creationDate     DateTime  @default(now())
  modifyDate       DateTime  @default(now())
  statusPermission Boolean   @default(true)
  account          Account[]
  catalog          Catalog   @relation(fields: [idRole], references: [idCatalog])
}
